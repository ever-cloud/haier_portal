<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>海尔安图集团社区</title>
    <link rel="stylesheet" href="../lib/jquery/jquery-ui.min.css">
    <link rel="stylesheet" href="../css/commen.css">
    <script src="../lib/jquery/jquery-1.11.3.js"></script>
    <script src="../lib/jquery/jquery-ui.min.js"></script>
    <script type="text/javascript"
            src="http://api.map.baidu.com/api?v=2.0&ak=EwYKU3Q9LPEw2vEGkXblk9p6pqSb7SYO"></script>
    <style>
        /*.ui-autocomplete-category {*/
            /*font-weight: bold;*/
            /*font-size:14px;*/
        /*}*/
    </style>
    <script>
        $.widget( "custom.catcomplete", $.ui.autocomplete, {
            _renderMenu: function( ul, items ) {
                var that = this,
                        currentCategory = "";
                $.each( items, function( index, item ) {
                    if ( item.category != currentCategory ) {
//                        data-index= index
                        ul.append( "<li class='ui-autocomplete-category'>" + item.category + "</li>" );
                        currentCategory = item.category;
                    }
                    that._renderItemData( ul, item );
                });
            }
        });
    </script>
    <script>
        $(function() {
               var data = [
                   { label: "国奥天地", category: "" },
                   { label: "国奥天地", category: "" }
               ];

               $( ".text" ).catcomplete({
                   delay: 0,
                   source: data
               });

        });
    </script>
</head>
<body>
<div class="layout_bottom">
    <!--导航start-->
    <div class="nav clearfix">
        <div class="nav_menu clearfix">
            <i class="nav_icon"></i>
            <div>导航菜单</div>
        </div>
        <div class="searchbar clearfix">
            <input type="text" class="text" placeholder="例:请输入国奥天地">
            <input type="button" class="btn">
        </div>
        <div class="nav_section">
            <div class="nav_bloc nav_all">
                <div class="nav_top" data-index="1">
                    <span>集团</span>
                </div>
                <div id="nav_item" class="nav_item clearfix"></div>
            </div>
            <div class="nav_community nav_all">
                <div class="nav_top" data-index="2">
                    <span>大区</span>
                </div>
                <div id="nav_group" class="nav_item clearfix"></div>
            </div>
            <div class="nav_prototypeRoom nav_all">
                <div class="nav_top" data-index="3">
                    <span>样板间</span>
                </div>
                <div id="nav_room" class="nav_item clearfix"></div>
            </div>
        </div>
    </div>
    <!--导航end-->
</div>
</body>
<script src="../js/common/common.js"></script>
<script src="../js/common/setcookie.js"></script>
<script src="../js/common/nav-item.js"></script>
<script src="../lib/temp/template.js"></script>
<!--集团-->
<script id="test" type="text/html">
    <ul class="ul">
        {{each list as value}}
        <li>
            <a href="#">{{value.letter}}</a>
        </li>
        <div class="box" style="display: none;">
            {{each value.data as key}}
            <li>
                <a href="./main.html" target="main">{{key.spe_name}}</a>
            </li>

            {{/each}}
        </div>
        {{/each}}
    </ul>
</script>
<!--社区-->
<script id="group" type="text/html">
    <ul class="ul">
        {{each list as value}}
        <li>
            <a href="#">{{value.letter}}</a>
        </li>
        <div class="box" style="display: none;">
            {{each value.data as key}}
            <li>
                <a href="./hr-community-map.html" target="main">{{key.spe_name}}</a>
            </li>
            {{/each}}
        </div>
        {{/each}}
    </ul>
</script>
<!--样板间-->
<script id="room" type="text/html">
    <ul class="ul">
        {{each list as value}}
        <li>
            <a href="#">{{value.letter}}</a>
        </li>
        <div class="box" style="display: none;">
            {{each value.data as key}}
            <li><a href="./hr-prototyperoom.html#{{key.spe_name}}" target="main" onclick="bindMouseenter()">{{key.spe_name}}</a>
            </li>
            {{/each}}
        </div>
        {{/each}}
    </ul>
</script>

<script>
    //集团nav-item.js
    var myHtml = template('test', setList(objData));
    document.getElementById('nav_item').innerHTML = myHtml;
    //    社区
    var htmlgroup = template('group', setList(objData1));
    document.getElementById('nav_group').innerHTML = htmlgroup;
    //    样板间
    var htmlroom = template('room', setList(objData2));
    document.getElementById('nav_room').innerHTML = htmlroom;
    //    清空没有值的字母选项A-Z
    $(".ul>.box").each(function (e) {
        if (!$(this).children().html()) {
            $(this).prev().remove();
            $(this).remove();
        }
    });
</script>
<script src="../js/map/room-map-click.js"></script>
<script>
    //    获取右侧名称
    $(function () {
        $(".tabBox ul li").click(function () {
//            点击刷新
            window.parent.frames["main"].location.reload();
            var titleText = $(this).parent().parent().parent().prev("li").children("a").text();
            $(".bg_name").text(titleText);
        });
        if ("ActiveXObject" in window) {
            $("#nav_item .tabBox ul li a").on("click", function (){
            window.parent.frames["main"].cookie = ["item", $(this).attr("href").split("#")[1]];
            window.parent.frames["main"].location.href = $(this).attr("href");
                return false;
            })
            $("#nav_group .tabBox ul li a").on("click", function () {
                window.parent.frames["main"].cookie = ["item", $(this).attr("href").split("#")[1]];
                window.parent.frames["main"].location.href = $(this).attr("href");
                return false;
            })
            $("#nav_room .box li a").on("click", function () {
                window.parent.frames["main"].location.href = "./hr-prototyperoom.html";
                window.parent.frames["main"].location.href = $(this).attr("href");
                bindMouseenterCopy($(this).text());
                return false;
            });

        }
    });
</script>
</html>
